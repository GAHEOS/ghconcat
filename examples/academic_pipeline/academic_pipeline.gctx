// ======================================================================
//  ghconcat academic pipeline – Quantum Computing example
//  All paths that do *not* start with “-” are implicitly “-a <path>”.
// ======================================================================

# Global settings ----------------------------------------------------------------
-w .                                   # project root holding local notes/
-E topic="Quantum Computing and Photonics"  # Visible in *all* templates

# -------------------------------------------------------------------------------
# 0 · Gather raw corpus  →  sources                                            //
# -------------------------------------------------------------------------------
[sources]
// Two open‑access papers (HTML render)
-F https://arxiv.org/abs/2303.11366     # Integrated Photonics for Quantum Computing
-F https://arxiv.org/abs/2210.10255     # Boson sampling in the noisy intermediate scale
-d 0

-K                                      # clean text (remove html tags, scripts, etc)
-s .html -C -i -u web-research -h       # clean & wrap
-o workspace/sources.md                           # expose as {sources}

[notes]
-a notes/
-s .md -u note -h                       # clean & wrap
-o workspace/notes.md                             # expose as {sources}

# -------------------------------------------------------------------------------
# 1 · Junior researcher draft  →  junior                                        //
# -------------------------------------------------------------------------------
[junior]
-a workspace/sources.md                  # feed the corpus
-a workspace/notes.md                    # feed the corpus
-t prompts/junior.md                     # persona prompt (see below)
--ai --ai-model o3                       # cheap deterministic model
-o workspace/junior.out.md

# -------------------------------------------------------------------------------
# 2 · Senior researcher pass  →  senior                                         //
# -------------------------------------------------------------------------------
[senior]
-a workspace/junior.out.md
-t prompts/senior.md
--ai --ai-model gpt-4o
-o workspace/senior.out.md
-E to_critic=$senior

# -------------------------------------------------------------------------------
# 3 · First academic critique  →  critic1                                       //
# -------------------------------------------------------------------------------
[critic1]
-a workspace/senior.out.md
-t prompts/critic.md
--ai --ai-model gpt-4o
-o workspace/critic1.out.md

# -------------------------------------------------------------------------------
# 4 · Language & style polish  →  redraft                                       //
# -------------------------------------------------------------------------------
[redraft]
-a workspace/critic1.out.md
-t prompts/editor.md
--ai --ai-model gpt-4o
-o workspace/redraft.out.md

# -------------------------------------------------------------------------------
# 5 · Final critique after polish  →  critic2                                   //
# -------------------------------------------------------------------------------
[critic2]
-a workspace/redraft.out.md
-t prompts/critic.md
--ai --ai-model gpt-4o
-o workspace/critic2.out.md
-E to_critic=$redraft

# -------------------------------------------------------------------------------
# 6 · Bundle for humans  →  final                                               //
# -------------------------------------------------------------------------------
[final]
-a workspace/critic2.out.md
-h -R                                     # add absolute path banner for traceability
-o workspace/final_report.md


